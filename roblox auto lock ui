local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local function getClosestTarget()
    local closest
    local closestDist = math.huge
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
            local distance = (player.Character.Head.Position - workspace.CurrentCamera.CFrame.Position).Magnitude
            if distance < closestDist and distance <= 50 then
                closestDist = distance
                closest = player.Character.Head
            end
        end
    end
    return closest
end

RunService.RenderStepped:Connect(function()
    local target = getClosestTarget()
    if target then
        local cam = workspace.CurrentCamera
        local direction = (target.Position - cam.CFrame.Position).Unit
        cam.CFrame = CFrame.lookAt(cam.CFrame.Position, cam.CFrame.Position + direction)
    end
end)
